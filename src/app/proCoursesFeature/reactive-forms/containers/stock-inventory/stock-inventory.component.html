<div class="stock-inventory">

    <form [formGroup]="form" (ngSubmit)="onSubmit()">

        <stock-branch [parent]="form">
        </stock-branch>

        <stock-selector [parent]="form" [products]="products" (added)='addStock($event)'>
        </stock-selector>

        <stock-products [parent]="form" (removed)='removeStock($event)' [map]="productMap">
        </stock-products>

        <div class="product-inventory__price">
            Total : {{total | currency:'USD': true}}
        </div>

        <div class="stock-inventory__buttons">
            <button type="submit" [disabled]="form.invalid">
                Order stock
            </button>
        </div>

        <pre style="background-color: lightgreen; max-width: fit-content;">{{form.value | json}}</pre>

    </form>

</div>